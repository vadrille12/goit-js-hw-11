{"mappings":"AAEA,MAAMA,EAAO,CACTC,WAAYC,SAASC,cAAc,mBACnCC,YAAaF,SAASC,cAAc,oBACpCE,SAAUH,SAASC,cAAc,eAG/BG,EAAS,ICRA,MAMXC,cACI,OAAOC,MAAM,qEAAqEC,KAAKC,wFAAwFD,KAAKE,QACvLC,MAAKC,GAAKA,EAAEC,SACZF,MAAKG,IACFN,KAAKE,MAAO,EAELI,EAAKC,O,CAIhBC,YACIR,KAAKE,KAAO,C,CAIZO,YACA,OAAOT,KAAKC,W,CAGZQ,UAAMC,GACNV,KAAKC,YAAcS,C,CAzBvBC,cACIX,KAAKC,YAAc,GACnBD,KAAKE,KAAO,C,GDoBpB,SAASU,IACLf,EAAOC,cAAcK,MAAKI,GAAQM,QAAQC,IAAIP,I,CAdlDhB,EAAKC,WAAWuB,iBAAiB,UAGjC,SAAmBC,GAEf,GADAA,EAAEC,iBACuB,IAArBpB,EAAOqB,UACP,OAAOC,SAASC,OAAOC,QAAQ,2EAEnCxB,EAAOY,MAAQO,EAAEM,cAAcC,SAAStB,YAAYuB,MACpD3B,EAAOW,YACPI,G,IATJrB,EAAKK,SAASmB,iBAAiB,QAASH","sources":["src/index.js","src/js/api.js"],"sourcesContent":["import Api from \"./js/api\";\n\nconst refs = {\n    searchForm: document.querySelector('.js-search-form'),\n    galleryList: document.querySelector('.js-gallery-list'),\n    loadMore: document.querySelector('.load-more')\n}\n\nconst newApi = new Api()\n\nrefs.searchForm.addEventListener('submit', onSearch)\nrefs.loadMore.addEventListener('click', loadImages)\n\nfunction onSearch (e) {\n    e.preventDefault();\n    if (newApi.totalHits === 0) {\n        return Notiflix.Notify.failure('Sorry, there is no images matching your search query. Please, try again');\n    }\n    newApi.query = e.currentTarget.elements.searchQuery.value \n    newApi.resetPage();\n    loadImages()\n}\n\nfunction loadImages () {\n    newApi.fetchImages().then(hits => console.log(hits))\n}\n\nfunction appendGalleryMarkup(hits) {\n    refs.galleryList.insertAdjacentHTML('beforeend', )\n    \n}","export default class Api {\n    constructor() {\n        this.searchQuery = '';\n        this.page = 1;\n    }\n\n    fetchImages() {\n        return fetch(`https://pixabay.com/api/?key=32947980-69693e3c3da6102d615bc169f&q=${this.searchQuery}&image_type=photo&orientation=horizontal&safesearch=true&per_page=40&page=${this.page}`)\n    .then(r => r.json())\n    .then(data => {\n        this.page +=1;\n\n        return data.hits;\n    }) \n    }\n\n    resetPage() {\n        this.page = 1;\n    }\n\n\n    get query() {\n        return this.searchQuery;\n    }\n     \n    set query(newQuery) {\n        this.searchQuery = newQuery; \n    }\n}"],"names":["$1f0dc3b9307be026$var$refs","searchForm","document","querySelector","galleryList","loadMore","$1f0dc3b9307be026$var$newApi","fetchImages","fetch","this","searchQuery","page","then","r","json","data","hits","resetPage","query","newQuery","constructor","$1f0dc3b9307be026$var$loadImages","console","log","addEventListener","e","preventDefault","totalHits","Notiflix","Notify","failure","currentTarget","elements","value"],"version":3,"file":"index.077eb8d6.js.map"}